% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read_climate_data.R
\name{read_climate_data}
\alias{read_climate_data}
\title{Read and Process Climate Data File (Detecting Variable Type)}
\usage{
read_climate_data(
  file_path,
  var_type = "auto",
  file_format = "auto",
  date_format = NULL,
  daily_col_names = c("date", "value"),
  value_col_name = "value",
  na_strings = c("NA", "N/A", "", "-999", "-9999", "-999.9"),
  skip = 0,
  verbose = TRUE
)
}
\arguments{
\item{file_path}{Path to the climate data file.}

\item{var_type}{Specify variable type: 'auto' (default), 'P', 'T'.}

\item{file_format}{Force format: 'auto'(default), 'monthly_wide', 'daily_ymd_v', 'daily_date_v'.}

\item{date_format}{For 'daily_date_v', specify date format string.}

\item{daily_col_names}{Col names for 2-col daily if no header. Default: \code{c("date", "value")}.}

\item{value_col_name}{Name for value column in daily/monthly_long. Default: "value".}

\item{na_strings}{Strings for NA. Default: \code{c("NA", "N/A", "", "-999", "-9999", "-999.9")}. (Removed " ")}

\item{skip}{Lines to skip. Default: 0.}

\item{verbose}{Print messages? Default: TRUE.}
}
\value{
A data frame with standardized columns and attributes "frequency" and "variable_type", or NULL.
}
\description{
Reads climate data, attempts auto-detection of format (daily/monthly) and
variable type (Precipitation/Temperature) based on columns, headers, and filename.
Standardizes column names and types while preserving the original temporal frequency.
Returns a data frame with attributes "frequency" ('daily'/'monthly') and
"variable_type" ('P'/'T'/'unknown'/'ambiguous').
}
\details{
Standardized Output Columns & Frequency:
\itemize{
\item Monthly Wide (13 col): \code{year}(int), \code{1}..\code{12}(num). Freq="monthly".
\item Daily YMDV (4 col): \code{year}(int), \code{month}(int), \code{day}(int), \code{value}(num). Freq="daily".
\item Daily Date-Value (2 col): \code{date}(Date), \code{value}(num). Freq="daily".
\item Monthly YM-Value (2 col): \code{year}(int), \code{month}(int), \code{value}(num). Freq="monthly".
}
Use \code{attr(result, "frequency")} and \code{attr(result, "variable_type")}.
}
\examples{
# (Examples remain the same as before)
# --- Setup ---
make_temp_file <- function(data, fname = tempfile(fileext = ".txt"), ...) {
  write.table(data, fname, sep = "\t", row.names = FALSE, quote=FALSE, ...); return(fname)
}
# --- Test Files ---
mw_data <- data.frame(year=1990); for(m in 1:12) mw_data[[as.character(m)]]<-1; f1 <- make_temp_file(mw_data)
r1 <- read_climate_data(f1); print(str(r1)); print(attributes(r1)); unlink(f1)
dy_data <- data.frame(Y=1990,M=1,D=1:2,V=c(1,2)); f2 <- make_temp_file(dy_data)
r2 <- read_climate_data(f2); print(str(r2)); print(attributes(r2)); unlink(f2)
dd_data <- data.frame(Date="19900101", Val=3); f3 <- make_temp_file(dd_data, col.names=FALSE)
r3 <- read_climate_data(f3); print(str(r3)); print(attributes(r3)); unlink(f3)
my_data <- data.frame(YM="199001", Tavg=4); f4 <- make_temp_file(my_data, "monthly_Tavg.txt")
r4 <- read_climate_data(f4); print(str(r4)); print(attributes(r4)); unlink(f4)

}
